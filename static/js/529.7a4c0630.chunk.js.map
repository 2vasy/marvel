{"version":3,"file":"static/js/529.7a4c0630.chunk.js","mappings":"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","sources":["components/errorMessage/errorMessage.js","components/pages/SingleComicPage.js","hooks/http.hook.js","services/MarvelService.js"],"sourcesContent":["import img from \"./error.gif\";\n\nconst ErrorMessage = () => {\n  return (\n    // <img src={ProcessingInstruction.env.PUBLIC_URL + '/error.gif'} alt=\"error\" />\n    <img  style={{ display: 'block', width: \"250px\", height: \"250px\",objectFit: 'contain', margin: \"0 auto\"}} src={img} alt=\"error.gif\" />\n  )\n};\n\nexport default ErrorMessage;\n","import { useParams, Link } from 'react-router-dom';\nimport { useEffect, useState, } from 'react';\n\nimport useMarvelService from '../../services/MarvelService';\nimport ErrorMessage from '../errorMessage/errorMessage';\nimport Spinner from '../spinner/spinner';\nimport './singleComicPage.scss';\n\nconst SingleComicPage = () => {\n  const { comicId } = useParams();\n  const [comic, setComic] = useState(null);\n\n  const { loading, error, getComic, clearError } = useMarvelService();\n\n  useEffect(() => {\n    updateComic();\n  }, [comicId])\n\n\n\n  const updateComic = () => {\n    clearError();\n    getComic(comicId)\n      .then(onComicLoaded)\n  }\n  const onComicLoaded = (comic) => {\n    setComic(comic);\n  }\n\n\n  const errorMessage = error ? <ErrorMessage /> : null;\n  const spinner = loading ? <Spinner /> : null;\n  const content = !(loading || error || !comic) ? <View comic={comic} /> : null;\n\n  return (\n    <>\n      {errorMessage}\n      {spinner}\n      {content}\n\n    </>\n\n  )\n}\n\nconst View = ({ comic }) => {\n  const {title, description, pageCount, thumbnail, language, price } = comic;\n  return (\n    <div className=\"single-comic\">\n      <img src={thumbnail} alt={title} className=\"single-comic__img\" />\n      <div className=\"single-comic__info\">\n        <h2 className=\"single-comic__name\">{title}</h2>\n        <p className=\"single-comic__descr\">{description}</p>\n        <p className=\"single-comic__descr\">{pageCount}</p>\n        <p className=\"single-comic__descr\">{language}</p>\n        <div className=\"single-comic__price\">{price}</div>\n      </div>\n      <Link to=\"/comics\" className=\"single-comic__back\">Back to all</Link>\n    </div>\n  )\n}\n\nexport default SingleComicPage;","import { useState, useCallback } from \"react\"\n\nexport const useHttp = () => {\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const request = useCallback(async (url, method = 'GET', body = null, headers = { 'Content-Type': 'application/json' }) => {\n\n    setLoading(true);\n    try {\n      const response = await fetch(url, { method, body, headers });\n\n      if (!response.ok) {\n        throw new Error(`Could not fetch ${url}, status ${response.status}`);\n      }\n\n      const data = await response.json();\n\n      setLoading(false);\n      return data;\n    } catch (e) {\n      setLoading(false);\n      setError(e.massage);\n      throw e;\n    }\n  }, [])\n\n  const clearError = useCallback(() => setError(null), []);\n\n  return {\n    loading,\n    request,\n    error,\n    clearError\n  }\n}","import { useHttp } from \"../hooks/http.hook\";\n\nconst useMarvelService = () => {\n  const {loading, request, error, clearError} = useHttp();\n\n  const _apiBase = 'https://gateway.marvel.com:443/v1/public/';\n  const _apiKey = 'apikey=9dd034565ccd5274cc3af31734f6373c';\n  const _baseOffset = 210;\n\n\n  const getAllCharacters = async (offset =_baseOffset) => {\n    const res = await request(`${_apiBase}characters?limit=9&offset=${offset}&${_apiKey}`);\n    return res.data.results.map(_transformCharacter)\n  }\n\n  const getCharacter = async (id) => {\n    const res = await request(`${_apiBase}characters/${id}?${_apiKey}`);\n    return _transformCharacter(res.data.results[0]);\n  }\n\n  const getAllComics = async (offset = 0) => {\n    const res = await request(\n      `${_apiBase}comics?orderBy=issueNumber&limit=8&offset=${offset}&${_apiKey}`\n      );\n    return res.data.results.map(_transformComics);\n  }\n\n  const getComic = async (id) => {\n    const res = await request(`${_apiBase}comics/${id}?${_apiKey}`)\n    return _transformComics(res.data.results[0]);\n  }\n  \n\tconst _transformCharacter = (char) => {\n\t\treturn {\n\t\t\tid: char.id,\n\t\t\tname: char.name,\n\t\t\tdescription: char.description\n\t\t\t\t? `${char.description.slice(0, 210)}...`\n\t\t\t\t: \"There is no description for this character\",\n\t\t\tthumbnail: char.thumbnail.path + \".\" + char.thumbnail.extension,\n\t\t\thomepage: char.urls[0].url,\n\t\t\twiki: char.urls[1].url,\n\t\t\tcomics: char.comics.items,\n\t\t};\n\t};\n\tconst _transformComics = (comics) => {\n\t\treturn {\n\t\t\tid: comics.id,\n\t\t\ttitle: comics.title,\n\t\t\tdescription: comics.description || \"There is no description\",\n\t\t\tpageCount: comics.pageCount\n\t\t\t\t? `${comics.pageCount} p.`\n\t\t\t\t: \"No information about the number of pages\",\n\t\t\tthumbnail: comics.thumbnail.path + \".\" + comics.thumbnail.extension,\n\t\t\tlanguage: comics.textObjects[0]?.language || \"en-us\",\n\t\t\t// optional chaining operator\n\t\t\tprice: comics.prices[0].price\n\t\t\t\t? `${comics.prices[0].price}$`\n\t\t\t\t: \"not available\",\n\t\t};\n\t};\n  return {\n    loading,\n    error,\n    getAllCharacters,\n    getCharacter,\n    clearError,\n    getAllComics,\n    getComic\n  }\n}\n\n\nexport default useMarvelService;"],"names":["ErrorMessage","_jsx","style","display","width","height","objectFit","margin","src","img","alt","View","_ref","comic","title","description","pageCount","thumbnail","language","price","_jsxs","className","children","Link","to","SingleComicPage","comicId","useParams","setComic","useState","loading","error","getComic","clearError","useMarvelService","useEffect","updateComic","then","onComicLoaded","errorMessage","spinner","Spinner","content","_Fragment","request","useHttp","setLoading","setError","useCallback","async","url","method","arguments","length","undefined","body","headers","response","fetch","ok","Error","status","data","json","e","massage","_apiBase","_apiKey","_transformCharacter","char","id","name","slice","path","extension","homepage","urls","wiki","comics","items","_transformComics","_comics$textObjects$","textObjects","prices","getAllCharacters","offset","results","map","getCharacter","res","getAllComics"],"sourceRoot":""}